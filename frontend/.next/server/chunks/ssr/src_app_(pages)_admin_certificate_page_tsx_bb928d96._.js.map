{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/massage-spa-training-system/frontend/src/app/%28pages%29/admin/certificate/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport '@ant-design/v5-patch-for-react-19';\r\nimport React, { useState, useRef } from 'react';\r\n// import { Layout, Form, Input, Select, Button, message, Card, Typography, Modal, DatePicker, Row, Col, Slider, Space } from 'antd';\r\nimport { Form, Input, Select, Button, message, Card, Typography, Modal, DatePicker, Row, Col, Slider, Space } from 'antd';\r\nimport { SaveOutlined, PrinterOutlined } from '@ant-design/icons';\r\n// import type { UploadFile, UploadChangeParam } from 'antd/lib/upload/interface'; // ยังคง import ไว้เผื่อใช้ในอนาคต\r\nimport dayjs from 'dayjs';\r\nimport dynamic from 'next/dynamic';\r\nimport Konva from 'konva';\r\n\r\n// const { Content } = Layout;\r\nconst { Option } = Select;\r\nconst { Title: AntdTitle } = Typography;\r\n\r\n// Dynamically import CertificateCanvas to ensure it only runs on the client-side\r\nconst CertificateCanvas = dynamic(() => import('./certificateCanvas'), { ssr: false });\r\n\r\n/// --- Interfaces ---\r\ninterface School {\r\n  key: string;\r\n  name: string;\r\n  address: string;\r\n  contact: string;\r\n  logoUrl?: string;\r\n}\r\n\r\ninterface CertificateData {\r\n  title: string;\r\n  studentName: string;\r\n  courseName: string;\r\n  issueDate: dayjs.Dayjs | null;\r\n  schoolName: string;\r\n  schoolLogoUrl: string;\r\n  fontFamily: string;\r\n  fontSize: number;\r\n  textColor: string;\r\n  bgColor: string;\r\n  signatureLine1: string;\r\n  signatureLine2: string;\r\n  // Positions for Konva shapes (all in pixels, representing the TOP-LEFT of the element's bounding box)\r\n  titlePos: { x: number; y: number };\r\n  studentNamePos: { x: number; y: number };\r\n  courseNamePos: { x: number; y: number };\r\n\r\n  // *** เพิ่ม Properties สำหรับการปรับแต่งกรอบ ***\r\n  mainBorderWidth: number;\r\n  mainBorderColor: string;\r\n  mainBorderRadius: number;\r\n  // mainBorderLineCap: 'butt' | 'round' | 'square'; // ลบออก\r\n  // mainBorderLineJoin: 'miter' | 'round' | 'bevel'; // ลบออก\r\n  mainBorderStyle: 'solid' | 'dashed'; // เพิ่มสไตล์เส้นกรอบหลัก\r\n  mainBorderDashLength: number; // ความยาวเส้นประกรอบหลัก\r\n  mainBorderDashGap: number; // ระยะห่างเส้นประกรอบหลัก\r\n  innerBorder1Width: number;\r\n  innerBorder1Color: string;\r\n  innerBorder1DashLength: number;\r\n  innerBorder1DashGap: number;\r\n  innerBorder2Width: number;\r\n  innerBorder2Color: string;\r\n}\r\n\r\nexport default function CertificatePage() {\r\n  const [form] = Form.useForm<CertificateData>();\r\n  const [isSaveModalVisible, setIsSaveModalVisible] = useState(false);\r\n\r\n  const stageRef = useRef<Konva.Stage | null>(null); \r\n\r\n  const dummySchools: School[] = [\r\n    { key: '1', name: 'โรงเรียนสาธิต ม.เกษตรศาสตร์', address: 'กรุงเทพมหานคร', contact: '02-123-4567', logoUrl: '' },\r\n    { key: '2', name: 'โรงเรียนเตรียมอุดมศึกษา', address: 'กรุงเทพมหานคร', contact: '02-765-4321', logoUrl: '' },\r\n    { key: '3', name: 'โรงเรียนบดินทรเดชา', address: 'กรุงเทพมหานคร', contact: '02-987-6543', logoUrl: '' },\r\n  ];\r\n\r\n  // กำหนดค่าเริ่มต้นของ certificateData\r\n  const [certificateData, setCertificateData] = useState<CertificateData>({\r\n    title: 'ใบประกาศนียบัตร',\r\n    studentName: 'ชื่อนักเรียน',\r\n    courseName: 'ชื่อหลักสูตรที่สำเร็จ',\r\n    issueDate: dayjs(), // กำหนด dayjs() ตั้งแต่แรกเพื่อป้องกัน Hydration Error\r\n    schoolName: dummySchools[0].name,\r\n    schoolLogoUrl: '',\r\n    fontFamily: 'Prompt',\r\n    fontSize: 16,\r\n    textColor: '#000000',\r\n    bgColor: '#FFFFFF',\r\n    signatureLine1: 'ผู้อำนวยการ',\r\n    signatureLine2: 'โรงเรียนสาธิต ม.เกษตรศาสตร์',\r\n    // Initial positions in pixels, representing the TOP-LEFT of the element's bounding box\r\n    // DESIGN_WIDTH = 720, DESIGN_HEIGHT = 508.5 (จาก CertificateCanvas.tsx)\r\n    titlePos: { x: 720 / 2, y: 108 }, \r\n    studentNamePos: { x: 720 / 2, y: 252 }, \r\n    courseNamePos: { x: 720 / 2, y: 322 }, \r\n\r\n    // *** ค่าเริ่มต้นสำหรับกรอบ ***\r\n    mainBorderWidth: 10,\r\n    mainBorderColor: '#f97316',\r\n    mainBorderRadius: 8,\r\n    // mainBorderLineCap: 'butt', // ลบออก\r\n    // mainBorderLineJoin: 'miter', // ลบออก\r\n    mainBorderStyle: 'solid',\r\n    mainBorderDashLength: 10,\r\n    mainBorderDashGap: 5,\r\n    innerBorder1Width: 4,\r\n    innerBorder1Color: '#d4af37',\r\n    innerBorder1DashLength: 10,\r\n    innerBorder1DashGap: 5,\r\n    innerBorder2Width: 2,\r\n    innerBorder2Color: '#b8860b',\r\n  });\r\n\r\n  const handleFormChange = (changedValues: Partial<CertificateData>) => {\r\n    setCertificateData(prevData => ({\r\n      ...prevData,\r\n      ...changedValues,\r\n    }));\r\n  };\r\n\r\n  const handleSchoolSelect = (value: string) => {\r\n    const selectedSchool = dummySchools.find(school => school.key === value);\r\n    if (selectedSchool) {\r\n      setCertificateData(prevData => ({\r\n        ...prevData,\r\n        schoolName: selectedSchool.name,\r\n        schoolLogoUrl: '',\r\n        signatureLine2: selectedSchool.name,\r\n      }));\r\n      form.setFieldsValue({\r\n        schoolName: selectedSchool.name,\r\n        schoolLogoUrl: '',\r\n        signatureLine2: selectedSchool.name,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSaveDesign = () => {\r\n    form.validateFields()\r\n      .then(() => {\r\n        setIsSaveModalVisible(true);\r\n      })\r\n      .catch(info => {\r\n        console.log('Validate Failed:', info);\r\n        message.error('กรุณากรอกข้อมูลที่จำเป็นให้ครบถ้วน');\r\n      });\r\n  };\r\n\r\n  const handleConfirmSave = () => {\r\n    console.log('Saving Certificate Design:', {\r\n      ...certificateData,\r\n      issueDate: certificateData.issueDate ? certificateData.issueDate.format('YYYY-MM-DD') : null,\r\n    });\r\n    message.success('บันทึกการออกแบบใบประกาศสำเร็จ!');\r\n    setIsSaveModalVisible(false);\r\n  };\r\n\r\n  const handlePositionChange = (elementName: string, newPos: { x: number; y: number }) => {\r\n    setCertificateData(prevData => {\r\n      switch (elementName) {\r\n        case 'title':\r\n          return { ...prevData, titlePos: newPos };\r\n        case 'studentName':\r\n          return { ...prevData, studentNamePos: newPos };\r\n        case 'courseName':\r\n          return { ...prevData, courseNamePos: newPos };\r\n        default:\r\n          return prevData;\r\n      }\r\n    });\r\n  };\r\n\r\n  const handlePrintCertificate = async () => {\r\n    if (stageRef.current) {\r\n      message.loading('กำลังสร้างใบประกาศสำหรับการพิมพ์...', 0);\r\n      try {\r\n        const dataURL = stageRef.current.toDataURL({\r\n          mimeType: 'image/png',\r\n          quality: 1,\r\n          pixelRatio: 2, // Export at 2x resolution for better print quality\r\n        });\r\n\r\n        const printWindow = window.open('', '_blank');\r\n        if (printWindow) {\r\n          printWindow.document.write(`\r\n            <html>\r\n              <head>\r\n                <title>Print Certificate</title>\r\n                <style>\r\n                  body { margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background: #f0f2f5; }\r\n                  img { max-width: 100%; height: auto; display: block; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }\r\n                  @media print {\r\n                    body { background: none; }\r\n                    img { box-shadow: none; }\r\n                  }\r\n                </style>\r\n              </head>\r\n              <body>\r\n                <img src=\"${dataURL}\" onload=\"window.print(); window.close();\" />\r\n              </body>\r\n            </html>\r\n          `);\r\n          printWindow.document.close();\r\n        } else {\r\n          message.error('ไม่สามารถเปิดหน้าต่างสำหรับพิมพ์ได้ กรุณาตรวจสอบ Pop-up Blocker');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error generating image from Konva Stage:', error);\r\n        message.error('เกิดข้อผิดพลาดในการสร้างใบประกาศ');\r\n      } finally {\r\n        message.destroy();\r\n      }\r\n    } else {\r\n      message.error('ไม่พบส่วนแสดงตัวอย่างใบประกาศ');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <AntdTitle level={1} className=\"text-3xl font-bold mb-8 text-gray-800\">ออกแบบใบประกาศ</AntdTitle>\r\n      \r\n      <div className=\"flex justify-end items-center mb-6\">\r\n        <Space size=\"middle\" className=\"gap-4\">\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<SaveOutlined />}\r\n            onClick={handleSaveDesign}\r\n            className=\"bg-green-500 hover:bg-green-600 text-white rounded-lg shadow-md px-6 py-3 text-base\"\r\n          >\r\n            บันทึกการออกแบบ\r\n          </Button>\r\n          <Button\r\n            icon={<PrinterOutlined />}\r\n            onClick={handlePrintCertificate}\r\n            className=\"bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-md px-6 py-3 text-base\"\r\n          >\r\n            พิมพ์ใบประกาศ\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n\r\n      <Row gutter={[24, 24]}>\r\n        {/* Controls Panel */}\r\n        <Col xs={24} lg={8}>\r\n          <Card className=\"rounded-xl shadow-custom-light p-4 max-h-[calc(100vh-200px)] overflow-y-auto\">\r\n            <AntdTitle level={4} className=\"text-gray-700 mb-6\">ตั้งค่าใบประกาศ</AntdTitle>\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              onValuesChange={handleFormChange}\r\n              initialValues={{\r\n                ...certificateData,\r\n                issueDate: certificateData.issueDate || dayjs(),\r\n              }}\r\n            >\r\n              <Form.Item\r\n                name=\"schoolName\"\r\n                label={<span className=\"font-semibold text-gray-700\">เลือกโรงเรียน</span>}\r\n                rules={[{ required: true, message: 'กรุณาเลือกโรงเรียน!' }]}\r\n              >\r\n                <Select\r\n                  placeholder=\"เลือกโรงเรียน\"\r\n                  className=\"rounded-lg\"\r\n                  onChange={handleSchoolSelect}\r\n                >\r\n                  {dummySchools.map(school => (\r\n                    <Option key={school.key} value={school.key}>{school.name}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"title\"\r\n                label={<span className=\"font-semibold text-gray-700\">หัวข้อใบประกาศ</span>}\r\n                rules={[{ required: true, message: 'กรุณากรอกหัวข้อใบประกาศ!' }]}\r\n              >\r\n                <Input placeholder=\"เช่น ใบประกาศนียบัตร\" className=\"rounded-lg\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"studentName\"\r\n                label={<span className=\"font-semibold text-gray-700\">ชื่อนักเรียน</span>}\r\n                rules={[{ required: true, message: 'กรุณากรอกชื่อนักเรียน!' }]}\r\n              >\r\n                <Input placeholder=\"เช่น นายสมชาย ใจดี\" className=\"rounded-lg\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"courseName\"\r\n                label={<span className=\"font-semibold text-gray-700\">ชื่อหลักสูตร</span>}\r\n                rules={[{ required: true, message: 'กรุณากรอกหลักสูตร!' }]}\r\n              >\r\n                <Input placeholder=\"เช่น หลักสูตรนวดแผนไทยเบื้องต้น\" className=\"rounded-lg\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"issueDate\"\r\n                label={<span className=\"font-semibold text-gray-700\">วันที่ออกใบประกาศ</span>}\r\n                rules={[{ required: true, message: 'กรุณาเลือกวันที่!' }]}\r\n              >\r\n                <DatePicker format=\"YYYY-MM-DD\" className=\"w-full rounded-lg\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"fontFamily\"\r\n                label={<span className=\"font-semibold text-gray-700\">รูปแบบตัวอักษร</span>}\r\n              >\r\n                <Select placeholder=\"เลือกฟอนต์\" className=\"rounded-lg\">\r\n                  <Option value=\"Inter\">Inter (Default)</Option>\r\n                  <Option value=\"Arial\">Arial</Option>\r\n                  <Option value=\"Sarabun\">Sarabun</Option>\r\n                  <Option value=\"Kanit\">Kanit</Option>\r\n                  <Option value=\"Prompt\">Prompt</Option>\r\n                  <Option value=\"Anchan\">Anchan</Option>\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"fontSize\"\r\n                label={<span className=\"font-semibold text-gray-700\">ขนาดตัวอักษร (px)</span>}\r\n              >\r\n                <Slider min={12} max={72} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"textColor\"\r\n                label={<span className=\"font-semibold text-gray-700\">สีตัวอักษร</span>}\r\n              >\r\n                <Input type=\"color\" className=\"rounded-lg h-10 p-1\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"bgColor\"\r\n                label={<span className=\"font-semibold text-gray-700\">สีพื้นหลังใบประกาศ</span>}\r\n              >\r\n                <Input type=\"color\" className=\"rounded-lg h-10 p-1\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"signatureLine1\"\r\n                label={<span className=\"font-semibold text-gray-700\">ตำแหน่งผู้ลงนาม</span>}\r\n                rules={[{ required: true, message: 'กรุณากรอกตำแหน่งผู้ลงนาม!' }]}\r\n              >\r\n                <Input placeholder=\"เช่น ผู้อำนวยการ\" className=\"rounded-lg\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"signatureLine2\"\r\n                label={<span className=\"font-semibold text-gray-700\">ชื่อองค์กรผู้ลงนาม</span>}\r\n                rules={[{ required: true, message: 'กรุณากรอกชื่อองค์กรผู้ลงนาม!' }]}\r\n              >\r\n                <Input placeholder=\"เช่น โรงเรียนสาธิต ม.เกษตรศาสตร์\" className=\"rounded-lg\" />\r\n              </Form.Item>\r\n\r\n              {/* *** ส่วนควบคุมการปรับแต่งกรอบ *** */}\r\n              <AntdTitle level={5} className=\"text-gray-700 mt-8 mb-4\">ตั้งค่ากรอบ</AntdTitle>\r\n              <Form.Item name=\"mainBorderWidth\" label={<span className=\"font-semibold text-gray-700\">ความกว้างกรอบหลัก (px)</span>}>\r\n                <Slider min={0} max={20} />\r\n              </Form.Item>\r\n              <Form.Item name=\"mainBorderColor\" label={<span className=\"font-semibold text-gray-700\">สีกรอบหลัก</span>}>\r\n                <Input type=\"color\" className=\"rounded-lg h-10 p-1\" />\r\n              </Form.Item>\r\n              <Form.Item name=\"mainBorderRadius\" label={<span className=\"font-semibold text-gray-700\">รัศมีมุมกรอบหลัก (px)</span>}>\r\n                <Slider min={0} max={20} />\r\n              </Form.Item>\r\n              {/* <Form.Item name=\"mainBorderLineCap\" label={<span className=\"font-semibold text-gray-700\">รูปแบบปลายเส้นกรอบหลัก</span>}> // ลบออก\r\n                <Select className=\"rounded-lg\">\r\n                  <Option value=\"butt\">Butt</Option>\r\n                  <Option value=\"round\">Round</Option>\r\n                  <Option value=\"square\">Square</Option>\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item name=\"mainBorderLineJoin\" label={<span className=\"font-semibold text-gray-700\">รูปแบบมุมเส้นกรอบหลัก</span>}> // ลบออก\r\n                <Select className=\"rounded-lg\">\r\n                  <Option value=\"miter\">Miter</Option>\r\n                  <Option value=\"round\">Round</Option>\r\n                  <Option value=\"bevel\">Bevel</Option>\r\n                </Select>\r\n              </Form.Item> */}\r\n\r\n              <Form.Item name=\"mainBorderStyle\" label={<span className=\"font-semibold text-gray-700\">สไตล์เส้นกรอบหลัก</span>}>\r\n                <Select className=\"rounded-lg\">\r\n                  <Option value=\"solid\">Solid</Option>\r\n                  <Option value=\"dashed\">Dashed</Option>\r\n                </Select>\r\n              </Form.Item>\r\n\r\n              {certificateData.mainBorderStyle === 'dashed' && (\r\n                <>\r\n                  <Form.Item name=\"mainBorderDashLength\" label={<span className=\"font-semibold text-gray-700\">ความยาวเส้นประกรอบหลัก (px)</span>}>\r\n                    <Slider min={0} max={30} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"mainBorderDashGap\" label={<span className=\"font-semibold text-gray-700\">ระยะห่างเส้นประกรอบหลัก (px)</span>}>\r\n                    <Slider min={0} max={30} />\r\n                  </Form.Item>\r\n                </>\r\n              )}\r\n\r\n              <Form.Item name=\"innerBorder1Width\" label={<span className=\"font-semibold text-gray-700\">ความกว้างกรอบใน 1 (px)</span>}>\r\n                <Slider min={0} max={10} />\r\n              </Form.Item>\r\n              <Form.Item name=\"innerBorder1Color\" label={<span className=\"font-semibold text-gray-700\">สีกรอบใน 1</span>}>\r\n                <Input type=\"color\" className=\"rounded-lg h-10 p-1\" />\r\n              </Form.Item>\r\n              <Form.Item name=\"innerBorder1DashLength\" label={<span className=\"font-semibold text-gray-700\">ความยาวเส้นประกรอบใน 1 (px)</span>}>\r\n                <Slider min={0} max={30} />\r\n              </Form.Item>\r\n              <Form.Item name=\"innerBorder1DashGap\" label={<span className=\"font-semibold text-gray-700\">ระยะห่างเส้นประกรอบใน 1 (px)</span>}>\r\n                <Slider min={0} max={30} />\r\n              </Form.Item>\r\n\r\n              <Form.Item name=\"innerBorder2Width\" label={<span className=\"font-semibold text-gray-700\">ความกว้างกรอบใน 2 (px)</span>}>\r\n                <Slider min={0} max={10} />\r\n              </Form.Item>\r\n              <Form.Item name=\"innerBorder2Color\" label={<span className=\"font-semibold text-gray-700\">สีกรอบใน 2</span>}>\r\n                <Input type=\"color\" className=\"rounded-lg h-10 p-1\" />\r\n              </Form.Item>\r\n            </Form>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Certificate Preview Area (Konva Canvas) */}\r\n        <Col xs={24} lg={16} className=\"overflow-x-auto\">\r\n          <Card className=\"rounded-xl shadow-custom-light p-4 flex flex-col items-center justify-center\">\r\n            <CertificateCanvas\r\n              certificateData={certificateData}\r\n              onPositionChange={handlePositionChange}\r\n              stageRef={stageRef}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Modal for Save Confirmation */}\r\n      <Modal\r\n        title=\"บันทึกการออกแบบใบประกาศ\"\r\n        open={isSaveModalVisible}\r\n        onOk={handleConfirmSave}\r\n        onCancel={() => setIsSaveModalVisible(false)}\r\n        okText=\"บันทึก\"\r\n        cancelText=\"ยกเลิก\"\r\n        className=\"rounded-xl\"\r\n        centered\r\n      >\r\n        <p>คุณต้องการบันทึกการออกแบบใบประกาศนี้หรือไม่?</p>\r\n        <p>ข้อมูลที่บันทึก: <br/>\r\n           หัวข้อ: {certificateData.title} <br/>\r\n           ชื่อนักเรียน: {certificateData.studentName} <br/>\r\n           หลักสูตร: {certificateData.courseName} <br/>\r\n           วันที่ออก: {certificateData.issueDate ? certificateData.issueDate.format('YYYY-MM-DD') : ''}\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}